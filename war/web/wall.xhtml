<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <f:metadata>
        <f:viewAction action="#{paramViewBean.doSomething(param['p'], param['u'])}"/>
        <f:viewAction action="#{paramViewBean.setSousPage(param['sp'])}"/>

    </f:metadata>
    <h:head>
        <ui:insert name="header" >
            <ui:include src="WEB-INF/xhtml/commun/importCss.xhtml" />

        </ui:insert>
        <title>Wall / #{paramViewBean.targetUsername} / #{paramViewBean.page}</title>
    </h:head>

    <h:body style="padding-top: 70px"> 

        <div id="header">
            <ui:insert name="header" >
                <ui:include src="WEB-INF/xhtml/commun/header.xhtml" />
            </ui:insert>
            <!-- set the active button in the nav -->
            <script>
                $(".target-active.wall").addClass("active");
            </script>

        </div>

        <ui:insert name="header" >
            <div class="container">

            </div>


            <div class="container"> 

                <ui:include src="WEB-INF/xhtml/wall/header.xhtml" />
                <ui:include src="WEB-INF/xhtml/wall/navBar.xhtml" />

                <ui:fragment rendered="#{paramViewBean.page == 'default'}"> 
                    <ui:include src="WEB-INF/xhtml/wall/post.xhtml" >
                        <ui:param name="dataTableID" value="default"/>
                        <ui:param name="targetUserName" value="#{param['u']}"/> 
                    </ui:include>
                </ui:fragment> 

                <ui:fragment rendered="#{paramViewBean.page == 'recommendation'}"> 
                    <ui:include src="WEB-INF/xhtml/wall/recommendation/recommendation.xhtml" >
                        <ui:param name="dataTableID" value="recommendation"/>
                        <ui:param name="targetUserName" value="#{param['u']}"/> 
                    </ui:include>
                </ui:fragment> 

                <ui:fragment rendered="#{paramViewBean.page == 'friend'}"> 
                    <ui:include src="WEB-INF/xhtml/wall/friend/friend.xhtml" >

                    </ui:include> 
                </ui:fragment>  
                
                <ui:fragment rendered="#{paramViewBean.page == 'media'}"> 
                    <ui:include src="WEB-INF/xhtml/wall/media/media.xhtml" /> 
                </ui:fragment>
                
                <ui:fragment rendered="#{paramViewBean.page == 'profile'}"> 
                    <ui:include src="WEB-INF/xhtml/wall/profile/profile.xhtml" /> 
                </ui:fragment>
               
            </div>
        </ui:insert>

    </h:body>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#addPicture").click(function () {
                $("#addProfileDiv").toggle();
                if ($(this).hasClass("glyphicon-plus")) {
                    $(this).removeClass("glyphicon-plus btn-primary").addClass("btn-danger glyphicon-remove");
                } else {
                    $(this).removeClass("btn-danger glyphicon-remove").addClass("glyphicon-plus btn-primary");
                }
            });

            $("#addCover").click(function () {
                $("#addCoverDiv").toggle();
                if ($(this).hasClass("glyphicon-plus")) {
                    $(this).removeClass("glyphicon-plus btn-primary").addClass("btn-danger glyphicon-remove");
                } else {
                    $(this).removeClass("btn-danger glyphicon-remove").addClass("glyphicon-plus btn-primary");
                }
            });

        });

    </script>  

</html>

