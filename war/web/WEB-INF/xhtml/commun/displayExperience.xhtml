<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <c:set var="canModify" value="#{postsBean.getCanModify(paramViewBean.targetUsername)}" scope="request" />
    <div class="media">
        <div class="media-body">

            <h:form>
                <h4 class="media-heading">${experience.title}
                    <h:panelGroup rendered="${canModify}">
                        <h:commandLink  class="glyphicon glyphicon-remove btn btn-danger btn-xs pull-right" action="#{profileBean.removeExperience(experience.id)}">
                            <f:param name="u" value="#{param['u']}"/>
                        </h:commandLink>
                    </h:panelGroup>
                </h4>  
            </h:form>
            ${experience.description}  
            <p class="text-muted">
                <small>
                    On #{profileBean.getFormatDate(experience.realisationDate)}<br/>

                    <c:if test="${not empty experience.localisation.street}">
                        ${experience.localisation.street}<br />
                    </c:if>
                    ${experience.localisation.zipcode} ${experience.localisation.city} - ${experience.localisation.stat} 
                </small>
            </p>
        </div>
        <h:panelGroup rendered="${canModify}">

            <h:form>
                <h:commandLink  class="glyphicon glyphicon-pencil btn btn-default btn-xs" action="#{navigationBean.manageExperience()}">
                    <f:param name="u" value="#{param['u']}"/>
                    <f:param name="id" value="#{experience.id}"/>
                </h:commandLink>
            </h:form>

        </h:panelGroup>
    </div>
</html>

